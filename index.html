<!DOCTYPE html>
<html>
<head>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <title></title>

    <link rel="stylesheet" href="assets/common.css">

</head>
<body>

<div class="section">
<h2 id="packages">List of Packages</h2>

    <table id="package-list" class="old">
    <tr>
        <td class="package">atk</td>
        <td class="website"><a href="http://www.gtk.org/">ATK</a></td>
    </tr>
    <tr>
        <td class="package">binutils</td>
        <td class="website"><a href="https://www.gnu.org/software/binutils/">GNU Binutils</a></td>
    </tr>
    <tr>
        <td class="package">cairo</td>
        <td class="website"><a href="http://cairographics.org/">cairo</a></td>
    </tr>
    <tr>
        <td class="package">cloog</td>
        <td class="website"><a href="http://www.cloog.org/">CLooG Code Generator</a></td>
    </tr>
    
    <tr>
        <td class="package">gcc</td>
        <td class="website"><a href="http://gcc.gnu.org/">GCC</a></td>
    </tr>
    <tr>
        <td class="package">gcc-cloog</td>
        <td class="website"><a href="http://www.cloog.org/">CLooG for GCC</a></td>
    </tr>
    <tr>
        <td class="package">gcc-gmp</td>
        <td class="website"><a href="http://www.gmplib.org/">GMP for GCC</a></td>
    </tr>
    <tr>
        <td class="package">gcc-isl</td>
        <td class="website"><a href="http://isl.gforge.inria.fr/">ISL for GCC</a></td>
    </tr>
    <tr>
        <td class="package">gcc-mpc</td>
        <td class="website"><a href="http://www.multiprecision.org/">MPC for GCC</a></td>
    </tr>
    <tr>
        <td class="package">gcc-mpfr</td>
        <td class="website"><a href="http://www.mpfr.org/">MPFR for GCC</a></td>
    </tr>
    <tr>
        <td class="package">gdk-pixbuf</td>
        <td class="website"><a href="http://www.gdk-pixbuf.org/">GDK-pixbuf</a></td>
    </tr>
    <tr>
        <td class="package">gettext</td>
        <td class="website"><a href="https://www.gnu.org/software/gettext/">gettext</a></td>
    </tr>
    <tr>
        <td class="package">glew</td>
        <td class="website"><a href="http://glew.sourceforge.net/">GLEW</a></td>
</tr>
    <tr>
        <td class="package">glib</td>
        <td class="website"><a href="http://www.gtk.org/">GLib</a></td>
    </tr>
    <tr>
        <td class="package">gmp</td>
        <td class="website"><a href="http://www.gmplib.org/">GMP</a></td>
    </tr>
    <tr>
        <td class="package">gtk2</td>
        <td class="website"><a href="http://www.gtk.org/">GTK+</a></td>
    </tr>
    <tr>
        <td class="package">harfbuzz</td>
        <td class="website"><a href="http://harfbuzz.sourceforge.net/">HarfBuzz</a></td>
    </tr>
    <tr>
        <td class="package">isl</td>
        <td class="website"><a href="http://isl.gforge.inria.fr/">Integer Set Library</a></td>
    </tr>
    <tr>
        <td class="package">libffi</td>
        <td class="website"><a href="https://sourceware.org/libffi/">libffi</a></td>
    </tr>
    <tr>
        <td class="package">libpng</td>
        <td class="website"><a href="http://www.libpng.org/">libpng</a></td>
    </tr>
    <tr>
        <td class="package">mednaffe</td>
        <td class="website"><a href="https://github.com/amatcoder/mednaffe">mednaffe</a></td>
    </tr>
    <tr>
        <td class="package">mingw-w64</td>
        <td class="website"><a href="http://mingw-w64.sourceforge.net/">MinGW-w64 Runtime</a></td>
    </tr>
    <tr>
        <td class="package">mpc</td>
        <td class="website"><a href="http://www.multiprecision.org/">GNU MPC</a></td>
    </tr>
    <tr>
        <td class="package">mpfr</td>
        <td class="website"><a href="http://www.mpfr.org/">mpfr</a></td>
    </tr>
    <tr>
        <td class="package">pango</td>
        <td class="website"><a href="http://www.pango.org/">Pango</a></td>
    </tr>
    <tr>
        <td class="package">pixman</td>
        <td class="website"><a href="http://cairographics.org/">pixman</a></td>
    </tr>
    <tr>
        <td class="package">pkgconf</td>
        <td class="website"><a href="https://github.com/pkgconf/pkgconf">pkgconf</a></td>
    </tr>
    <tr>
        <td class="package">sdl2</td>
        <td class="website"><a href="http://www.libsdl.org/">SDL2</a></td>
    </tr>
    <tr>
        <td class="package">tiff</td>
        <td class="website"><a href="http://www.remotesensing.org/libtiff/">LibTIFF</a></td>
    </tr>
    <tr>
        <td class="package">zlib</td>
        <td class="website"><a href="http://zlib.net/">zlib</a></td>
    </tr>
    </table>

    <script>
        function getPackageElements() {
            var packageElements = {};
            var elements = document.getElementById('package-list').getElementsByTagName('td');
            for (var i = 0; i < elements.length; i++) {
                var element = elements[i];
                if (element.className === 'package') {
                    var package = element.textContent;
                    packageElements[package] = element;
                }
            }
            return packageElements;
        }
        function parseVersion(mkfile) {
            var matchResult = mkfile.match(/^\$\(PKG\)_VERSION\s*:?=\s*(.+)\s*$/m);
            return matchResult[1];
        }
        function loadVersions(packageElements, doneCallback) {
            var versions = {};
            var packageCount = 0;
            for (var package in packageElements) {
                packageCount++;
            }
            var loadCount = 0;
            for (var packageIndex in packageElements) {
                (function handlePackage(){
                    var package = packageIndex;
                    var request = new XMLHttpRequest();
                    request.open('GET', 'src/' + package + '.mk', true);
                    request.onreadystatechange = function reqCallback() {
                        if (request.readyState === 4) {
                            versions[package] = parseVersion(request.responseText);
                            loadCount++;
                            if (loadCount === packageCount) {
                                doneCallback(versions);
                            }
                        }
                    }
                    request.send();
                })();
            }
        }
        function resolveVersions(versions) {
            var resolvedVersions = {};
            for (var package in versions) {
                var version = versions[package];
                var matchResult = version.match(/^\$\((.+)_VERSION\)$/);
                if (matchResult) {
                    resolvedVersions[package] = versions[matchResult[1]];
                } else {
                    resolvedVersions[package] = versions[package];
                }
            }
            return resolvedVersions;
        }
        function showVersions(packageElements, resolvedVersions) {
            for (package in packageElements) {
                var element = packageElements[package];
                var version = resolvedVersions[package];
                var versionEscaped = version.replace('&', '&amp;').replace('<', '&lt;').replace('>', '&gt;');
                var versionHtml = '<td class="version">' + versionEscaped + '</td>';
                element.insertAdjacentHTML('afterend', versionHtml);
            }
        }
        (function main() {
            var packageElements = getPackageElements();
            loadVersions(packageElements, function doneCallback(versions) {
                var resolvedVersions = resolveVersions(versions);
                showVersions(packageElements, resolvedVersions);
            });
        })();
    </script>
</div>
</body>
</html>
